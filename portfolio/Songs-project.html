<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>Nahuel Barreiro - Songs-project</title>
    <meta content="Portafolio Nahuel Barreiro" name="description">
    <meta content="Portafolio, Nahuel Barreiro" name="keywords">

    <!-- Favicons -->

    <link href="../assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
        rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="../assets/vendor/icofont/icofont.min.css" rel="stylesheet">
    <link href="../assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="../assets/vendor/venobox/venobox.css" rel="stylesheet">
    <link href="../assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="../assets/vendor/aos/aos.css" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="../assets/css/style.css" rel="stylesheet">


</head>

<body>


    <!-- ======= Mobile nav toggle button ======= -->
    <button type="button" class="mobile-nav-toggle d-xl-none"><i class="icofont-navigation-menu"></i></button>

    <!-- ======= Header ======= -->
    <header id="header">
        <div class="d-flex flex-column">

            <div class="profile">
                <img src="https://i.ibb.co/Nmh4pYB/profileimg.jpg" alt="Nahuel Barreiro"
                    class="img-fluid rounded-circle">
                <h1 class="text-light"><a href="index.html">Nahuel Barreiro</a></h1>
                <div class="social-links mt-3 text-center">
                    <a href="https://www.linkedin.com/in/nahuel-barreiro-03840919b/" class="linkedin"><i
                            class="bx bxl-linkedin"></i></a>
                </div>
            </div>

            <nav class="nav-menu">
                <ul>
                    <li class="active"><a href="../index.html"><i class="bx bx-home"></i> <span>Inicio</span></a></li>

                </ul>
            </nav><!-- .nav-menu -->
            <button type="button" class="mobile-nav-toggle d-xl-none"><i class="icofont-navigation-menu"></i></button>

        </div>
    </header><!-- End Header -->

    <main id="main">

        <!-- ======= Breadcrumbs ======= -->
        <section id="breadcrumbs" class="breadcrumbs">
            <div class="container">

                <div class="d-flex justify-content-between align-items-center">
                    <h2>Portafolio</h2>
                    <ol>
                        <li><a href="../index.html">Inicio</a></li>
                        <li>Songs-project</li>
                    </ol>
                </div>

            </div>
        </section><!-- End Breadcrumbs -->

        <!-- ======= Portfolio Details Section ======= -->
        <section id="portfolio-details" class="portfolio-details">
            <div class="container">

                <div class="portfolio-details-container">

                    <div class="owl-carousel portfolio-details-carousel">
                        <img src="../assets/img/portfolio/Songs-project-image1.jpg" class="img-fluid" alt="">
                        <img src="../assets/img/portfolio/Songs-project-image2.jpg" class="img-fluid" alt="">
                        <img src="../assets/img/portfolio/Songs-project-image3.jpg" class="img-fluid" alt="">
                    </div>

                    <div class="portfolio-info">
                        <h3>Información del proyecto</h3>
                        <ul>
                            <li><strong>URL</strong>: <a href="https://nahuelba.github.io/Songs-project-Frontend/"
                                    target="_blank">Link</a></li>
                            <li><strong>Fecha del proyecto</strong>: 22 Marzo, 2021</li>
                            <li><strong>Código en Github</strong>: <br><a href="https://github.com/nahuelba/Songs-project-Backend/"
                                    target="_blank">Backend (Django)</a> <br> 
                                    <a href="https://github.com/nahuelba/Songs-project-Frontend/tree/gh-pages/Code"
                                    target="_blank">Frontend (React)</a></li>

                        </ul>
                    </div>

                </div>

                <div class="portfolio-description">
                    <h2>Proyecto personal</h2>
                    <br>

                    <h4>Breve descripción del proyecto</h4>

                    <p>
                        Esta página es una app que consiste en mostrar una canción por día, pudiendo
                        seleccionar varios interpretes y, a su vez, varias plataformas para reproducir esas versiones
                        (spotify y youtube). Esta información es creada mediante una api con django rest framework, y consumida por React.
                    </p>
                    <br>


                    <h4>Tecnologías utilizadas</h4>

                    <p>
                        A continuación se muestra un listado de las tecnologías usadas:</p>
                    <ul>
                        <li>Django</li>
                        <ul>
                            <li>Django rest-framework</li>
                            <li>Pillow</li>
                        </ul>
                    
                        <li>React</li>
                        <ul>
                            <li>Material-ui</li>
                        </ul>
                    </ul><br>



                    <h4>Explicación del proyecto</h4>
                    <!--
                    Aqui vemos como se estructura django rest-framework(backend) para que con ayuda de vue js (frontend)
                    pueda obtener los datos de los modelos.
                    <img src="../assets/img/portfolio/Explicacion-project.jpg" class="img-fluid my-5" alt="">-->
                    <h5>Modelos</h5>
                    <p>Este gráfico representa los modelos existentes en este proyecto y sus relaciones.</p>


                    <img src="../assets/img/portfolio/Modelos-Songs-project.jpg" class="img-fluid my-5" alt="">
                    <h5>API rest</h5>
                    <p>El proceso comienza importando los modelos, en el archivo serializers.py</p>
                    <div class="highlight">
                        <pre><code>
from rest_framework import serializers
from songoftheday.models import InterpreterModel, LinksSongsModel, SongModel
                    </code></pre>
                    </div>
                    <p>Luego se crean las clases con los serializers especificando el modelo y los campos.</p>
                    <div class="highlight">
                        <pre><code>
class interpreterSerializer(serializers.ModelSerializer):
    class Meta:
        model = InterpreterModel
        fields = '__all__'

class LinkSongsSerializer(serializers.ModelSerializer):
    class Meta:
        model  = LinksSongsModel
        fields= '__all__'

class SongSerializer(serializers.ModelSerializer):
    class Meta:
        model = SongModel
        fields=  '__all__'
                </code></pre>
                    </div>

                    <p>Se importan los serializers y los modelos en el archivo api.py. Los serializers se encargan de
                        traducir la información y determinar campos para que, posteriormente, puedan ser leidas por la
                        api.</p>
                    <div class="highlight">
                        <pre><code>
from rest_framework.generics import ListAPIView
from songoftheday.models import InterpreterModel, LinksSongsModel, SongModel
from songoftheday.api.serializers import interpreterSerializer, LinkSongsSerializer, SongSerializer
from datetime import datetime
                    </code></pre>
                    </div>
                    <p>Creamos la clase heredada de la clase ListAPIView y especificamos los serializers importados.
                        Luego redefinimos el metodo get_queryset, en él especificamos las filas que queremos retornar.
                    </p>

                    <div class="highlight">
                        <pre><code>
class InterpreterListAPIView(ListAPIView):

    serializer_class = interpreterSerializer

    def get_queryset(self):
        return InterpreterModel.objects.all()

class LinksSongsListAPIView(ListAPIView):

    serializer_class = LinkSongsSerializer

    def get_queryset(self):
        return LinksSongsModel.objects.all()

class SongListAPIView(ListAPIView):

    serializer_class = SongSerializer

    def get_queryset(self):
        return SongModel.objects.all()

class SongofthedayListAPIView(ListAPIView):

    serializer_class = SongSerializer

    def get_queryset(self):
        #get today date
        today = datetime.now().strftime('%d-%m')
        #filter songs
        songoftheday= SongModel.objects.filter(date_song=today)
        
        return songoftheday
                </code></pre>

                    </div>

                    <p>Ahora solo queda establecer las urls. En el archivo urls.py importamos las vistas de la API
                        creadas en el paso anterior.</p>
                    <div class="highlight">
                        <pre><code>
from django.urls import path
from .api import InterpreterListAPIView,  LinksSongsListAPIView, SongListAPIView, SongofthedayListAPIView
                </code></pre>

                    </div>
                    <p>Y establecemos los url patterns.</p>
                    <div class="highlight">
                        <pre><code>
urlpatterns = [
    path("song/", SongListAPIView.as_view(), name="song_api"),
    path("song/links/", LinksSongsListAPIView.as_view(), name="links_api"),
    path("song/links/interpreter/", InterpreterListAPIView.as_view(), name="interpreter_api"),
    path("songoftheday/", SongofthedayListAPIView.as_view(), name="songoftheday_api")
]
                </code></pre>
                    </div>

                    <p>Ya podemos acceder a las api mediante las urls. Estas urls van a servir para obtener información
                        mas adelante con React.</p>

<!--
                    <h5>Vue js</h5>
                    <p>Con vue js ya podemos consumir la API segun lo necesitemos, mediante la libreria axios.</p>
                    <div class="highlight">
                        <pre><code>
new Vue({
    el: "#app",
    delimiters: ['[[', ']]'],

    data: {
        songoftheday: '',
    },
    mounted() {
        axios
            .get('127.0.0.1:8000/songoftheday/')
            .then(response => {
                this.songoftheday = response.data[0];
            });

    }
})
            </code></pre>
                    </div>




                </div>

                <h4>Problemas encontrados</h4>

                <p>Los interpreters no se renderizan al inicio.</p>

                <img src="../assets/img/portfolio/interpreters-vacio.jpg" class="img-fluid" alt="">

                <p>Pero luego de seleccionar, renderizan normalmente.</p>

                <img src="../assets/img/portfolio/interpreters-render.jpg" class="img-fluid" alt="">


            </div>-->
        </section><!-- End Portfolio Details Section -->

    </main><!-- End #main -->


    <!-- ======= Footer ======= -->
    <footer id="footer">
        <div class="container">
            <div class="copyright">
                &copy; Copyright <strong><span>iPortfolio</span></strong>
            </div>
            <div class="credits">
                <!-- All the links in the footer should remain intact. -->
                <!-- You can delete the links only if you purchased the pro version. -->
                <!-- Licensing information: https://bootstrapmade.com/license/ -->
                <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/iportfolio-bootstrap-portfolio-websites-template/ -->
                Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
            </div>
        </div>
    </footer><!-- End  Footer -->

    <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

    <!-- Vendor JS Files -->
    <script src="../assets/vendor/jquery/jquery.min.js"></script>
    <script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/vendor/jquery.easing/jquery.easing.min.js"></script>
    <script src="../assets/vendor/php-email-form/validate.js"></script>
    <script src="../assets/vendor/waypoints/jquery.waypoints.min.js"></script>
    <script src="../assets/vendor/counterup/counterup.min.js"></script>
    <script src="../assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="../assets/vendor/venobox/venobox.min.js"></script>
    <script src="../assets/vendor/owl.carousel/owl.carousel.min.js"></script>
    <script src="../assets/vendor/typed.js/typed.min.js"></script>
    <script src="../assets/vendor/aos/aos.js"></script>

    <!-- Template Main JS File -->
    <script src="../assets/js/main.js"></script>

</body>

</html>